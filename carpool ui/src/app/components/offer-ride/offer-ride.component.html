<app-navbar></app-navbar>
<form ngNativeValidate [formGroup]="offerRideForm" (submit)="onOffered()">
  <div class="d-flex ">
      <div class="card m-5">
        <div class="card-body">
          <div class="d-flex">
            <h4 class="card-title">Offer a Ride</h4>
            <i class="bi bi-toggle-on toggle h2" routerLink="/book-ride"></i>
          </div>
          <h6 class="card-subtitle mb-2 text-muted subtitle">we get you the matches asap! </h6>
          <div class="d-flex">
            <div class="order-form">

                <div class="form-floating mb-1">
                  <input type="text" class="form-control" id="floatingFrom" placeholder="From" formControlName="from" required>
                  <label for="floatingFrom">From</label>
                </div>
                <div class="form-floating mb-1">
                  <input type="text" class="form-control" id="floatingTo" placeholder="To" formControlName="to" required>
                  <label for="floatingTo">To</label>
                </div>
                <div class="mb-1">
                  <label for="date">Date</label>
                  <input type="date"class="form-control" id="date" placeholder="xx/mm/yyyy" formControlName="date" required>
                </div>
                <label for="floatingTo" class="mb-3">Time</label>
                <div class="d-grid times">
                  <button type="button" class="btn time" [ngClass]="(item.value==selectedTime)?'active':'time'"
                  *ngFor="let item of Times | keyvalue" (click)="selectedTime=item.value">{{item.value}}</button>
                </div>
                <a class="form-display" (click)="displayRemainingForm=true">Next>></a>

            </div>

            <div class="icon">
              <ul>
                <li class="list-group-item"><i class="bi bi-circle-fill start"></i></li>
                <div class="grey-circle">
                  <li class="list-group-item"><i class="bi bi-circle-fill circle"></i></li>
                  <li class="list-group-item"><i class="bi bi-circle-fill circle"></i></li>
                  <li class="list-group-item"><i class="bi bi-circle-fill circle"></i></li>
                  <li class="list-group-item mb-1"><i class="bi bi-circle-fill circle"></i></li>
                </div>
                <li class="list-group-item loc"><i class="bi bi-geo-alt-fill end"></i></li>
              </ul>
            </div>
          </div>
        </div>
      </div>


      <div class="card m-5" *ngIf="displayRemainingForm">
        <div class="card-body">
          <div class="d-flex">
            <h4 class="card-title">Offer a Ride</h4>
            <i class="bi bi-toggle-on toggle h2"></i>
          </div>
          <h6 class="card-subtitle mb-2 text-muted subtitle">we get you the matches asap! </h6>
          <div class="d-flex stops-container">
            <div class="order-form">
              <div class="input-group" *ngFor="let _ of [].constructor(stopsCount);let i=index;">
                <div class="form-floating mb-1">
                  <input type="text" class="form-control" id="floatingFrom" placeholder="stops" [ngClass]="(stopsCount==i+1)?'stops':'form-control'" formControlName="stop{{i+1}}">
                  <label for="floatingFrom">Stop{{i+1}}</label>
                </div>
                <span *ngIf="stopsCount==i+1"
                class="input-group-text plus-icon mb-1" (click)="addStop()"><i class="bi bi-plus"></i></span>
              </div>
            </div>

            <div class="stops-icons">
              <ul>
                <li class="list-group-item source"><i class="bi bi-circle-fill start"></i></li>
                <div class="dynamic-grey-circles">
                  <li class="list-group-item gcircle" *ngFor="let _ of [].constructor(circleCount);let i=index;">
                  <i class="bi bi-circle-fill circle"></i></li>
                </div>
                <li class="list-group-item "><i class="bi bi-geo-alt-fill end"></i></li>

              </ul>
            </div>
          </div>

          <div class="d-flex">
            <div class="seats">
              <label>Seats</label>
              <div class="seat-options">
                <button type="button" class="btn seatNumber me-2 mt-3" *ngFor="let _ of [].constructor(3);let i=index;"
                (click)="selectedSeat=i+1" [ngClass]="(selectedSeat==i+1)?'active':'seatNumber'">{{i+1}}</button>
              </div>
            </div>
            <div class="fare ms-auto">
              <label>Fare</label>
              <div class="d-flex">
                <h6 class="mt-2">$</h6>
                <input type="number" class="form-control" id="fare" formControlName="fare" required>
              </div>
            </div>
          </div>
          <button type="submit" class="btn submit mt-4">Submit</button>
        </div>
      </div>
  </div>
</form>

<img src="../../assets/images/service.png" class="background-image" alt="img">
